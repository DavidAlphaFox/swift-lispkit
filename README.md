<img src="Assets/lispkit_logo_small.png" alt="LispKit" width="80" height="80" align="middle" />&nbsp;Swift LispKit
======================================================

<p>
<a href="https://developer.apple.com/osx/"><img src="https://img.shields.io/badge/Platform-macOS-blue.svg?style=flat" alt="Platform: macOS" /></a>
<a href="https://developer.apple.com/swift/"><img src="https://img.shields.io/badge/Language-Swift%203.1-green.svg?style=flat" alt="Language: Swift 3.1" /></a>
<a href="https://developer.apple.com/xcode/"><img src="https://img.shields.io/badge/IDE-Xcode%208.3-orange.svg?style=flat" alt="IDE: Xcode 8.3" /></a>
<a href="https://raw.githubusercontent.com/objecthub/swift-lispkit/master/LICENSE"><img src="http://img.shields.io/badge/License-Apache-lightgrey.svg?style=flat" alt="License: Apache" /></a>
</p>


## Overview

_LispKit_ is a framework for building Lisp-based extension and scripting languages
for macOS applications. _LispKit_ is fully implemented in the programming language
[Swift](http://www.swift.org). _LispKit_ implements a core language based on the
[R7RS (small) Scheme standard](http://www.r7rs.org). It is extensible,
allowing the inclusion of new native libraries, of new libraries written in Scheme, as
well as custom modifications of the core environment consisting of a compiler, a
virtual machine as well as core libraries.

So far, performance was not a priority in the development of _LispKit_. The _LispKit_
compiler does not perform any code optimizations and the performance of the system is
below state of the art Lisp and Scheme implementations.


## Features

_LispKit_ provides support for the following core features, many of which are based on R7RS:

  - Modules via R7RS libraries
  - Hygienic macros based on the _syntax-rules_ standard
  - First-class environments
  - `call/cc`, `dynamic-wind` and exceptions
  - Dynamically-scoped paramaters
  - Multiple return values
  - Delayed execution via promises and streams
  - Support for the full numerical tower consisting of arbitrary size integers, rationals,
    real numbers, and inexact complex numbers.
  - Unicode strings and characters
  - Vectors and bytevectors
  - Text and binary ports
  - R7RS-compliant records
  - [R6RS](http://www.r6rs.org)-compliant hashtables

_LispKit_ is incompatible or incomplete with respect to the following R7RS features:

  - Lists are immutable. Mutable cons-cells are supported in a way similar to
    [Racket](https://racket-lang.org).
  - R7RS's mechanism for declaring the features of the Scheme implementation is not yet
    implemented; this includes the following functions: `features` and `cond-expand`
  - Error support is incomplete; the following functions are missing: `syntax-error`,
    `read-error?`, `file-error?`
  - The R5RS-fallback mechanism for handling symbols in a case-insensitive manner is not
    implemented yet; this includes support for `include-ci`
  - Libraries do not yet support: `include`, `include-ci`, `include-library-declarations`, and
    `cond-expand`.
  - Environment-support lacks the following functions: `scheme-report-environment`,
    `null-environment`.


## Architecture

From an architectural perspective, _LispKit_ consists of:

1. a compiler translating _LispKit_ expressions into bytecode, and
2. a virtual machine for interpreting the generated bytecode. The virtual machine is
stack-based, handles tail calls and continuations, and provides a garbage collector.

Details can be found in the [LispKit Wiki](https://github.com/objecthub/swift-lispkit/wiki).

The project provides a read-eval-print loop. This is a command-line tool that can be used
to try out and experiment with the framework. The read-eval-print loop is a tool which parses
the entered _LispKit_ expression, compiles it to bytecode, executes it, and
displays the result.


## Dependencies

_LispKit_ relies on [NumberKit](http://github.com/objecthub/swift-numberkit)
for its support of numeric datatypes like rationals, complex numbers, and big integers.


## Requirements

- XCode 8.3
- Swift 3.1
- [NumberKit](http://github.com/objecthub/swift-numberkit)

